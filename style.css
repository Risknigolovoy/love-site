/* ... (все стили до .message-card остаются такими же) ... */

/* --- СТИЛИ ДЛЯ НОВЫХ ПОГОДНЫХ ЭФФЕКТОВ --- */
#weather-effects, #lightning-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 2;
    pointer-events: none;
    overflow: hidden;
}

/* Стили для капли дождя */
.rain-drop {
    position: absolute;
    bottom: 100%;
    width: 2px;
    height: 80px;
    background: linear-gradient(to top, rgba(255,255,255,0.2), rgba(255,255,255,0.6));
    animation: rain-fall linear;
}

@keyframes rain-fall {
    to {
        transform: translateY(120vh);
    }
}

/* Эффект молнии */
#lightning-overlay {
    background: white;
    opacity: 0;
}

/* Активация шторма */
body.storm-active #lightning-overlay {
    animation: lightning-flash 8s linear infinite;
}
@keyframes lightning-flash {
    0%, 94% { opacity: 0; }
    95% { opacity: 0.6; }
    96% { opacity: 0.1; }
    97% { opacity: 0.8; }
    99% { opacity: 0; }
}

/* Пауза для фона и затемнение */
body.storm-active #orbit-container, 
body.storm-active #sky-gradient {
    animation-play-state: paused;
}
body.storm-active #sky-gradient {
    background-color: #1f2833;
    animation-name: none; /* Отключаем смену цвета */
}
body.storm-active .stars, 
body.storm-active .twinkling,
body.storm-active .nebula {
    opacity: 0;
    transition: opacity 1s;
}

/* --- СТИЛИ ДЛЯ ВКЛАДКИ "ПОГОДА" --- */
.weather-controls { display: flex; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
.weather-btn { font-family: 'Comfortaa', cursive; font-size: 18px; padding: 15px 30px; border: 2px solid rgba(255, 255, 255, 0.5); background: rgba(255, 255, 255, 0.1); color: white; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; }
.weather-btn:hover { background: rgba(255, 255, 255, 0.2); border-color: white; }

/* ... (все стили кота и его баббла остаются такими же) ... */
