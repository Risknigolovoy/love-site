@import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap');

/* ... (все старые стили до .message-card остаются без изменений) ... */
body { background-color: #000; color: #fff; font-family: 'Comfortaa', cursive; margin: 0; overflow-x: hidden; text-align: center; }
/* ... (весь блок с динамическим небом, солнцем и луной) ... */

/* --- СТИЛИ ДЛЯ ПОГОДНЫХ ЭФФЕКТОВ --- */
#rain-overlay, #lightning-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 2;
    pointer-events: none;
    opacity: 0;
    transition: opacity 1s ease-in-out;
}

/* Эффект дождя */
#rain-overlay {
    background-image: 
        linear-gradient(to bottom, rgba(255,255,255,0.4) 1%, transparent 15%);
    background-size: 3px 15px;
    animation: rain-fall 0.4s linear infinite;
}
@keyframes rain-fall {
    from { background-position: 0 0; }
    to { background-position: 0 100%; }
}

/* Эффект молнии */
#lightning-overlay {
    background: white;
    animation: lightning-flash 8s linear infinite;
}
@keyframes lightning-flash {
    0%, 94% { opacity: 0; }
    95% { opacity: 0.6; }
    96% { opacity: 0.1; }
    97% { opacity: 0.8; }
    99% { opacity: 0; }
}

/* Класс для активации шторма */
body.storm-active #rain-overlay,
body.storm-active #lightning-overlay {
    opacity: 1;
}

/* Приостановка анимации дня/ночи во время шторма */
body.storm-active #orbit-container, 
body.storm-active #sky-gradient {
    animation-play-state: paused;
}
/* Затемнение неба во время шторма */
body.storm-active #sky-gradient {
    background-color: #1f2833;
}
/* Прячем звезды в шторм */
body.storm-active .stars, 
body.storm-active .twinkling,
body.storm-active .nebula {
    opacity: 0;
}


/* --- СТИЛИ ДЛЯ ВКЛАДКИ "ПОГОДА" --- */
.weather-controls {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 30px;
    flex-wrap: wrap;
}
.weather-btn {
    font-family: 'Comfortaa', cursive;
    font-size: 18px;
    padding: 15px 30px;
    border: 2px solid rgba(255, 255, 255, 0.5);
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}
.weather-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: white;
}
/* ... (все стили кота и сообщений остаются без изменений) ... */
